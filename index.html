<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <title>–ß–µ—Å—Ç–∏—Ç —Ä–æ–∂–¥–µ–Ω –¥–µ–Ω!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      text-align: center;
      background: #ffe6f2;
      font-family: 'Dancing Script', cursive;
    }

    img {
      display: block;
      margin: 0 auto;
      max-width: 80%;
      height: auto;
    }

    #cake, #friend {
      width: 250px;
      margin-top: 50px;
    }

    #cake {
      display: none; /* —Å–∫—Ä–∏–≤–∞–º–µ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ */
    }

    #friend {
      display: none; /* —â–µ —Å–µ –ø–æ—è–≤–∏ —Å–ª–µ–¥ —Ç–µ–∫—Å—Ç–∞ */
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .message {
      display: none;
      margin-top: 20px;
      font-size: 23px;
      font-weight: bold;
      color: #d63384;
      padding: 0 10px;
      white-space: pre-wrap;
      min-height: 2em;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    #startBtn {
      margin-top: 40px;
      padding: 12px 20px;
      font-size: 20px;
      border: none;
      border-radius: 10px;
      background: #d63384;
      color: white;
      font-family: inherit;
      cursor: pointer;
    }
  </style>
</head>
<body> 
  <!-- –°—Ç–∞—Ä—Ç –±—É—Ç–æ–Ω -->
  <button id="startBtn">üéÇ –∏–∑–Ω–µ–Ω–∞–¥–∞ üëÜüé∂</button>

  <!-- –¢–æ—Ä—Ç–∞ -->
  <img id="cake" src="pic2.png" alt="–¢–æ—Ä—Ç–∞ üéÇ">
  
  <!-- –ü–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª–Ω–∏ —Ç–µ–∫—Å—Ç–æ–≤–µ -->
  <div class="message">–ß–µ—Å—Ç–∏—Ç —Ä–æ–∂–¥–µ–Ω –¥–µ–Ω, –ª–µ–ª—á–µ! üéâ‚ú®</div>
  <div class="message">üéâ‚ú® –û–±–∏—á–∞–º —Ç–µ –º–Ω–æ–≥–æ! ‚ù§Ô∏è</div>
  <div class="message">–ü–æ–∂–µ–ª–∞–≤–∞–º —Ç–∏ –º–Ω–æ–≥–æ –∑–¥—Ä–∞–≤–µ –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ!</div>
  <div class="message">–î–∞ —Ç–∏ —Å–µ —Ä–æ–¥–∏ –µ–¥–∏–Ω —Ö—É–±–∞–≤ –∏ –ø–æ—Å–ª—É—à–µ–Ω –≤–Ω—É–∫, –∫–æ–π—Ç–æ</div>
  <div class="message">–¥–∞ —Ç–∏ –¥–∞–≤–∞ —Å–∏–ª–∏, –º–Ω–æ–≥–æ —Ä–∞–¥–æ—Å—Ç –∏ –º–Ω–æ–≥–æ —Ö—É–±–∞–≤–∏ –º–æ–º–µ–Ω—Ç–∏. üòä</div>

  <!-- –°–Ω–∏–º–∫–∞ (—â–µ –∑–∞–º–µ—Å—Ç–∏ —Ç–æ—Ä—Ç–∞—Ç–∞) -->
  <img id="friend" src="pic.jpg" alt="">

  <canvas id="confetti"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
  <script>
    // === –ö–æ–Ω—Ñ–µ—Ç–∏ ===
    function launchConfetti() {
      const duration = 3 * 1000;
      const end = Date.now() + duration;

      (function frame() {
        confetti({
          particleCount: 7,
          angle: 60,
          spread: 55,
          origin: { x: 0 }
          scalar: 0.8
        });
        confetti({
          particleCount: 7,
          angle: 120,
          spread: 55,
          origin: { x: 1 }
        });

        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      })();
    }

    // === –ï—Ñ–µ–∫—Ç –Ω–∞ –ø–∏—à–µ—â–∞ –º–∞—à–∏–Ω–∞ ===
    const messages = document.querySelectorAll(".message");

    function typeWriter(element, text, speed, callback) {
      let i = 0;
      element.style.display = "block";
      element.textContent = "";
      function typing() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(typing, speed);
        } else if (callback) {
          callback();
        }
      }
      typing();
    }

    function showMessages() {
      const cake = document.getElementById("cake");
      const friend = document.getElementById("friend");
      cake.style.display = "block"; // –ø–æ–∫–∞–∑–≤–∞–º–µ —Ç–æ—Ä—Ç–∞—Ç–∞
      launchConfetti();

      let index = 0;
      function showNextMessage() {
        if (index < messages.length) {
          const msg = messages[index];
          const text = msg.textContent;
          typeWriter(msg, text, 70, () => {
            index++;
            setTimeout(showNextMessage, 1000);
          });
        } else {
          // —Å–∫—Ä–∏–≤–∞–º–µ —Ç–æ—Ä—Ç–∞—Ç–∞ –∏ –ø–æ–∫–∞–∑–≤–∞–º–µ —Å–Ω–∏–º–∫–∞—Ç–∞ –Ω–∞ –Ω–µ–π–Ω–æ –º—è—Å—Ç–æ
          cake.style.display = "none";
          friend.style.display = "block";
        }
      }
      setTimeout(showNextMessage, 4000);
    }

    // === –ú—É–∑–∏–∫–∞ Happy Birthday —Å—ä—Å beep ===
    const melody = [
      [264, 250], [264, 250], [297, 500], [264, 500], [352, 500], [330, 1000],
      [264, 250], [264, 250], [297, 500], [264, 500], [396, 500], [352, 1000],
      [264, 250], [264, 250], [528, 500], [440, 500], [352, 500], [330, 500], [297, 1000],
      [466, 250], [466, 250], [440, 500], [352, 500], [396, 500], [352, 1000]
    ];

    function playMelody() {
      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      let time = audioCtx.currentTime;

      melody.forEach(note => {
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();

        oscillator.type = "sine";
        oscillator.frequency.value = note[0];
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        oscillator.start(time);
        oscillator.stop(time + note[1] / 1000);

        time += note[1] / 1000 + 0.05;
      });
    }

    // === –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ —Å–ª–µ–¥ –Ω–∞—Ç–∏—Å–∫–∞–Ω–µ –Ω–∞ –±—É—Ç–æ–Ω–∞ ===
    document.getElementById("startBtn").addEventListener("click", () => {
      document.getElementById("startBtn").style.display = "none";
      playMelody();
      showMessages();
    });
  </script>
</body>
</html>

